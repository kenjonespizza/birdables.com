import{S as ie,i as le,s as ge,U as me,w as K,k as B,e as $,t as T,x as Q,m as H,c as _,a as v,h as V,d as f,b as p,J as re,y as R,g as W,H as i,j as x,q as X,o as Y,B as Z}from"../../../chunks/vendor-0ab40093.js";import{b as pe}from"../../../chunks/paths-396f020f.js";import{s as q}from"../../../chunks/info-aa335e44.js";import{P as ue}from"../../../chunks/Posts-b29380ec.js";import{P as fe}from"../../../chunks/PortableText-d4b9bcd4.js";import{B as he}from"../../../chunks/Breadcrumb-07bc02bd.js";import{a as z,t as G}from"../../../chunks/utils-a9485558.js";import{u as N}from"../../../chunks/sanity-image-url-39c25909.js";import"../../../chunks/Link-b1be6883.js";import"../../../chunks/ExternalLink-8266f08b.js";function de(t){let a,g,n,l=t[0].pageInfo.name+"",m,d,u,o;return{c(){a=$("h2"),g=T("Posts by: "),n=$("span"),m=T(l),d=T(" ("),u=T(t[4]),o=T(")"),this.h()},l(r){a=_(r,"H2",{slot:!0,class:!0});var h=v(a);g=V(h,"Posts by: "),n=_(h,"SPAN",{class:!0});var I=v(n);m=V(I,l),d=V(I," ("),u=V(I,t[4]),o=V(I,")"),I.forEach(f),h.forEach(f),this.h()},h(){p(n,"class","text-gray-500 italic"),p(a,"slot","topText"),p(a,"class","pb-6 text-lg leading-9 tracking-tight font-medium text-gray-900 sm:text-xl sm:leading-10")},m(r,h){W(r,a,h),i(a,g),i(a,n),i(n,m),i(n,d),i(n,u),i(n,o)},p(r,h){h&1&&l!==(l=r[0].pageInfo.name+"")&&x(m,l),h&16&&x(u,r[4])},d(r){r&&f(a)}}}function ce(t){let a,g,n,l,m,d,u,o,r,h,I,ee,S,w,C=t[0].pageInfo.name+"",F,te,j,L=t[0].position+"",J,ae,P,M,k,A,E,y;return a=new me({props:{title:`${t[0].pageInfo.name} | ${t[0].position}`,description:`${z(G(t[0].bio))}`,keywords:t[0].pageInfo.name,openGraph:{title:`${t[0].pageInfo.name} | ${t[0].position}`,description:z(G(t[0].bio)),url:`${q.address}/blog/author/${t[0].pageInfo.slug.current}`,type:"website",images:[{url:`${N(t[0].image.asset).quality(80).width(1200)}`,width:1200,height:627,alt:`${t[0].pageInfo.name}`}]},twitter:{site:`@${q.twitterHandle}`,title:`${t[0].pageInfo.name} | ${t[0].position}`,description:z(G(t[0].bio)),image:`${N(t[0].image.asset).quality(80).width(1200)}`,imageAlt:`${t[0].pageInfo.name}!`},jsonLd:{logo:`${q.address}/images/logo.svg`,"@context":"http://schema.org","@type":"WebSite",name:`${t[0].pageInfo.name} | ${t[0].position}`,url:`${q.address}/blog/author/${t[0].pageInfo.name}`}}}),m=new he({props:{current:t[0].pageInfo.name,steps:[{title:"Blog",link:"/blog"},{title:"Authors",link:"/blog/authors"}]}}),P=new fe({props:{content:t[0].bio,class:"mt-4 prose-xl text-gray-500"}}),E=new ue({props:{posts:t[3],count:t[4],currentPage:t[1],perPage:t[2],$$slots:{topText:[de]},$$scope:{ctx:t}}}),{c(){K(a.$$.fragment),g=B(),n=$("section"),l=$("div"),K(m.$$.fragment),d=B(),u=$("div"),o=$("div"),r=$("img"),ee=B(),S=$("div"),w=$("h2"),F=T(C),te=B(),j=$("span"),J=T(L),ae=B(),K(P.$$.fragment),M=B(),k=$("div"),A=$("div"),K(E.$$.fragment),this.h()},l(e){Q(a.$$.fragment,e),g=H(e),n=_(e,"SECTION",{class:!0});var s=v(n);l=_(s,"DIV",{class:!0});var c=v(l);Q(m.$$.fragment,c),d=H(c),u=_(c,"DIV",{class:!0});var U=v(u);o=_(U,"DIV",{class:!0});var D=v(o);r=_(D,"IMG",{loading:!0,class:!0,src:!0,alt:!0}),ee=H(D),S=_(D,"DIV",{});var b=v(S);w=_(b,"H2",{class:!0});var O=v(w);F=V(O,C),te=H(O),j=_(O,"SPAN",{class:!0});var se=v(j);J=V(se,L),se.forEach(f),O.forEach(f),ae=H(b),Q(P.$$.fragment,b),b.forEach(f),D.forEach(f),U.forEach(f),c.forEach(f),s.forEach(f),M=H(e),k=_(e,"DIV",{class:!0});var oe=v(k);A=_(oe,"DIV",{class:!0});var ne=v(A);Q(E.$$.fragment,ne),ne.forEach(f),oe.forEach(f),this.h()},h(){p(r,"loading","lazy"),p(r,"class","w-96 drop-shadow-card rounded-lg"),re(r.src,h=N(t[0].image).quality(80).size(400,500))||p(r,"src",h),p(r,"alt",I=t[0].pageInfo.name),p(j,"class","tracking-tight italic text-gray-500 text-4xl"),p(w,"class","text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tighter lg:text-6xl"),p(o,"class","flex space-x-10 pt-8"),p(u,"class","md:flex md:justify-between items-end"),p(l,"class","max-w-7xl mx-auto pt-10 pb-12 px-4 sm:px-6 md:px-8"),p(n,"class","bg-gray-blue"),p(A,"class","mx-auto py-6 px-4 max-w-screen-xl sm:px-6 lg:px-8 lg:py-10"),p(k,"class","bg-white")},m(e,s){R(a,e,s),W(e,g,s),W(e,n,s),i(n,l),R(m,l,null),i(l,d),i(l,u),i(u,o),i(o,r),i(o,ee),i(o,S),i(S,w),i(w,F),i(w,te),i(w,j),i(j,J),i(S,ae),R(P,S,null),W(e,M,s),W(e,k,s),i(k,A),R(E,A,null),y=!0},p(e,[s]){const c={};s&1&&(c.title=`${e[0].pageInfo.name} | ${e[0].position}`),s&1&&(c.description=`${z(G(e[0].bio))}`),s&1&&(c.keywords=e[0].pageInfo.name),s&1&&(c.openGraph={title:`${e[0].pageInfo.name} | ${e[0].position}`,description:z(G(e[0].bio)),url:`${q.address}/blog/author/${e[0].pageInfo.slug.current}`,type:"website",images:[{url:`${N(e[0].image.asset).quality(80).width(1200)}`,width:1200,height:627,alt:`${e[0].pageInfo.name}`}]}),s&1&&(c.twitter={site:`@${q.twitterHandle}`,title:`${e[0].pageInfo.name} | ${e[0].position}`,description:z(G(e[0].bio)),image:`${N(e[0].image.asset).quality(80).width(1200)}`,imageAlt:`${e[0].pageInfo.name}!`}),s&1&&(c.jsonLd={logo:`${q.address}/images/logo.svg`,"@context":"http://schema.org","@type":"WebSite",name:`${e[0].pageInfo.name} | ${e[0].position}`,url:`${q.address}/blog/author/${e[0].pageInfo.name}`}),a.$set(c);const U={};s&1&&(U.current=e[0].pageInfo.name),m.$set(U),(!y||s&1&&!re(r.src,h=N(e[0].image).quality(80).size(400,500)))&&p(r,"src",h),(!y||s&1&&I!==(I=e[0].pageInfo.name))&&p(r,"alt",I),(!y||s&1)&&C!==(C=e[0].pageInfo.name+"")&&x(F,C),(!y||s&1)&&L!==(L=e[0].position+"")&&x(J,L);const D={};s&1&&(D.content=e[0].bio),P.$set(D);const b={};s&8&&(b.posts=e[3]),s&16&&(b.count=e[4]),s&2&&(b.currentPage=e[1]),s&4&&(b.perPage=e[2]),s&49&&(b.$$scope={dirty:s,ctx:e}),E.$set(b)},i(e){y||(X(a.$$.fragment,e),X(m.$$.fragment,e),X(P.$$.fragment,e),X(E.$$.fragment,e),y=!0)},o(e){Y(a.$$.fragment,e),Y(m.$$.fragment,e),Y(P.$$.fragment,e),Y(E.$$.fragment,e),y=!1},d(e){Z(a,e),e&&f(g),e&&f(n),Z(m),Z(P),e&&f(M),e&&f(k),Z(E)}}}async function ke({params:t,fetch:a}){const g=await a(`${pe}/api/blog/author/${t.author}`),{authorData:n,posts:l,count:m,currentPage:d,perPage:u}=await g.json(),o=n;return!n.posts||n.posts.length===0&&page>1?{status:404}:g?{props:{author:o,posts:l,count:m,currentPage:d,perPage:u}}:{status:g.status,error:new Error().message}}function $e(t,a,g){let{author:n}=a,{currentPage:l}=a,{perPage:m}=a,{posts:d}=a,{count:u}=a;return t.$$set=o=>{"author"in o&&g(0,n=o.author),"currentPage"in o&&g(1,l=o.currentPage),"perPage"in o&&g(2,m=o.perPage),"posts"in o&&g(3,d=o.posts),"count"in o&&g(4,u=o.count)},[n,l,m,d,u]}class De extends ie{constructor(a){super();le(this,a,$e,ce,ge,{author:0,currentPage:1,perPage:2,posts:3,count:4})}}export{De as default,ke as load};
