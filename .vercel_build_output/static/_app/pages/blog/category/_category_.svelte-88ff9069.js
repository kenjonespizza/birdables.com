import{S as ne,i as oe,s as re,U as ie,k as D,w as U,e as w,t as W,O as ge,d as i,m as j,x as F,c as y,a as P,h as J,b as B,g as A,y as K,H as p,j as se,q as M,o as Q,B as R}from"../../../chunks/vendor-0ab40093.js";import{b as le}from"../../../chunks/paths-396f020f.js";import{s as n}from"../../../chunks/info-aa335e44.js";import{u as X}from"../../../chunks/sanity-image-url-39c25909.js";import{P as me}from"../../../chunks/Posts-b29380ec.js";import{P as fe}from"../../../chunks/PortableText-d4b9bcd4.js";import{B as pe}from"../../../chunks/Breadcrumb-07bc02bd.js";import{a as C,t as V}from"../../../chunks/utils-a9485558.js";import"../../../chunks/Link-b1be6883.js";import"../../../chunks/ExternalLink-8266f08b.js";function ue(t){let o,r,g,d,u,l,m,I,s,_,$,z=t[4].pageInfo.name+"",T,Y,b,Z,G,x,ee,h,L,E,q,v,S;return document.title=o=t[4].pageInfo.name,g=new ie({props:{title:`${t[4].pageInfo.name} | ${n.name} Blog`,description:`${C(V(t[4].description),160)}`,keywords:t[4].pageInfo.name,openGraph:{title:`${t[4].pageInfo.name} | ${n.name} Blog`,description:C(V(t[4].description),160),url:`${n.address}/blog/category/${t[4].pageInfo.slug.current}`,type:"website",images:[{url:`${X(t[4].image.asset).quality(80).size(1200,627)}`,width:1200,height:627,alt:`${t[4].pageInfo.name}`}]},twitter:{site:`@${n.twitterHandle}`,title:`"${t[4].pageInfo.name}" blog posts | ${n.name} Blog`,description:C(V(t[4].description),160),image:`${X(t[4].image.asset).quality(80).size(1200,627)}`,imageAlt:`${t[4].pageInfo.name}!`},jsonLd:{logo:`${n.address}/images/logo.svg`,"@context":"http://schema.org","@type":"WebSite",name:`${t[4].pageInfo.name} blog posts | ${n.name}`,url:`${n.address}/blog/category/${t[4].pageInfo.name}`}}}),m=new pe({props:{current:t[4].pageInfo.name,steps:[{title:"Blog",link:"/blog"},{title:"Categories",link:"/blog/categories"}]}}),h=new fe({props:{content:t[4].description,class:"mt-4 prose-xl text-gray-500"}}),v=new me({props:{posts:t[0],categories:t[5],count:t[3],currentPage:t[1],perPage:t[2],paginationSlug:`blog/category/${t[4].pageInfo.slug.current}`,currentCategory:t[4]._id}}),{c(){r=D(),U(g.$$.fragment),d=D(),u=w("section"),l=w("div"),U(m.$$.fragment),I=D(),s=w("div"),_=w("div"),$=w("h2"),T=W(z),Y=D(),b=w("span"),Z=W("("),G=W(t[3]),x=W(")"),ee=D(),U(h.$$.fragment),L=D(),E=w("div"),q=w("div"),U(v.$$.fragment),this.h()},l(e){ge('[data-svelte="svelte-1n1we0a"]',document.head).forEach(i),r=j(e),F(g.$$.fragment,e),d=j(e),u=y(e,"SECTION",{class:!0});var c=P(u);l=y(c,"DIV",{class:!0});var k=P(l);F(m.$$.fragment,k),I=j(k),s=y(k,"DIV",{class:!0});var H=P(s);_=y(H,"DIV",{class:!0});var f=P(_);$=y(f,"H2",{class:!0});var N=P($);T=J(N,z),Y=j(N),b=y(N,"SPAN",{class:!0});var O=P(b);Z=J(O,"("),G=J(O,t[3]),x=J(O,")"),O.forEach(i),N.forEach(i),ee=j(f),F(h.$$.fragment,f),f.forEach(i),H.forEach(i),k.forEach(i),c.forEach(i),L=j(e),E=y(e,"DIV",{class:!0});var te=P(E);q=y(te,"DIV",{class:!0});var ae=P(q);F(v.$$.fragment,ae),ae.forEach(i),te.forEach(i),this.h()},h(){B(b,"class","tracking-tight italic text-gray-300 text-4xl"),B($,"class","text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tighter lg:text-6xl"),B(_,"class","max-w-3xl pt-8"),B(s,"class","md:flex md:justify-between items-end"),B(l,"class","max-w-7xl mx-auto pt-10 pb-12 px-4 sm:px-6 md:px-8"),B(u,"class","bg-gray-blue"),B(q,"class","mx-auto py-6 px-4 max-w-screen-xl sm:px-6 lg:px-8 lg:py-10"),B(E,"class","bg-white")},m(e,a){A(e,r,a),K(g,e,a),A(e,d,a),A(e,u,a),p(u,l),K(m,l,null),p(l,I),p(l,s),p(s,_),p(_,$),p($,T),p($,Y),p($,b),p(b,Z),p(b,G),p(b,x),p(_,ee),K(h,_,null),A(e,L,a),A(e,E,a),p(E,q),K(v,q,null),S=!0},p(e,[a]){(!S||a&16)&&o!==(o=e[4].pageInfo.name)&&(document.title=o);const c={};a&16&&(c.title=`${e[4].pageInfo.name} | ${n.name} Blog`),a&16&&(c.description=`${C(V(e[4].description),160)}`),a&16&&(c.keywords=e[4].pageInfo.name),a&16&&(c.openGraph={title:`${e[4].pageInfo.name} | ${n.name} Blog`,description:C(V(e[4].description),160),url:`${n.address}/blog/category/${e[4].pageInfo.slug.current}`,type:"website",images:[{url:`${X(e[4].image.asset).quality(80).size(1200,627)}`,width:1200,height:627,alt:`${e[4].pageInfo.name}`}]}),a&16&&(c.twitter={site:`@${n.twitterHandle}`,title:`"${e[4].pageInfo.name}" blog posts | ${n.name} Blog`,description:C(V(e[4].description),160),image:`${X(e[4].image.asset).quality(80).size(1200,627)}`,imageAlt:`${e[4].pageInfo.name}!`}),a&16&&(c.jsonLd={logo:`${n.address}/images/logo.svg`,"@context":"http://schema.org","@type":"WebSite",name:`${e[4].pageInfo.name} blog posts | ${n.name}`,url:`${n.address}/blog/category/${e[4].pageInfo.name}`}),g.$set(c);const k={};a&16&&(k.current=e[4].pageInfo.name),m.$set(k),(!S||a&16)&&z!==(z=e[4].pageInfo.name+"")&&se(T,z),(!S||a&8)&&se(G,e[3]);const H={};a&16&&(H.content=e[4].description),h.$set(H);const f={};a&1&&(f.posts=e[0]),a&32&&(f.categories=e[5]),a&8&&(f.count=e[3]),a&2&&(f.currentPage=e[1]),a&4&&(f.perPage=e[2]),a&16&&(f.paginationSlug=`blog/category/${e[4].pageInfo.slug.current}`),a&16&&(f.currentCategory=e[4]._id),v.$set(f)},i(e){S||(M(g.$$.fragment,e),M(m.$$.fragment,e),M(h.$$.fragment,e),M(v.$$.fragment,e),S=!0)},o(e){Q(g.$$.fragment,e),Q(m.$$.fragment,e),Q(h.$$.fragment,e),Q(v.$$.fragment,e),S=!1},d(e){e&&i(r),R(g,e),e&&i(d),e&&i(u),R(m),R(h),e&&i(L),e&&i(E),R(v)}}}async function Be({params:t,fetch:o}){const r=await o(`${le}/api/blog/category/${t.category}`),{posts:g,categoryInfo:d,currentPage:u,perPage:l,count:m,blogInfo:I,categories:s}=await r.json();return r?{props:{posts:g,categoryInfo:d,currentPage:u,perPage:l,count:m,blogInfo:I,categories:s}}:{status:r.status,error:new Error().message}}function ce(t,o,r){let{posts:g}=o,{currentPage:d}=o,{perPage:u}=o,{count:l}=o,{categoryInfo:m}=o,{categories:I}=o;return t.$$set=s=>{"posts"in s&&r(0,g=s.posts),"currentPage"in s&&r(1,d=s.currentPage),"perPage"in s&&r(2,u=s.perPage),"count"in s&&r(3,l=s.count),"categoryInfo"in s&&r(4,m=s.categoryInfo),"categories"in s&&r(5,I=s.categories)},[g,d,u,l,m,I]}class Ee extends ne{constructor(o){super();oe(this,o,ce,ue,re,{posts:0,currentPage:1,perPage:2,count:3,categoryInfo:4,categories:5})}}export{Ee as default,Be as load};
